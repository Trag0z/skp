<HTML><HEAD>
<TITLE>&lt;time.h&gt; -- C and C++ Standard Libraries:&nbsp;&nbsp;Overview and Reference</TITLE>
<meta name="Microsoft.Help.Locale" content="en-us">
<meta name="Microsoft.Help.TopicLocale" content="en-us">
</HEAD><BODY>

<H1><A NAME="&lt;time.h&gt;"></A><CODE>&lt;time.h&gt;</CODE></H1><HR>

<P><B><CODE><A HREF="#CLOCKS_PER_SEC">CLOCKS_PER_SEC</A>
&middot; <A HREF="#NULL">NULL</A>
</CODE></B></P>

<P><B><CODE><A HREF="#asctime">asctime</A>
&middot; <A HREF="#clock">clock</A>
&middot; <A HREF="#clock_t">clock_t</A>
&middot; <A HREF="#ctime">ctime</A>
&middot; <A HREF="#difftime">difftime</A>
&middot; <A HREF="#gmtime">gmtime</A>
&middot; <A HREF="#localtime">localtime</A>
&middot; <A HREF="#mktime">mktime</A>
&middot; <A HREF="#size_t">size_t</A>
&middot; <A HREF="#strftime">strftime</A>
&middot; <A HREF="#time">time</A>
&middot; <A HREF="#time_t">time_t</A>
&middot; <A HREF="#tm">tm</A>
</CODE></B></P>

<P><B><CODE><A HREF="#asctime_s">asctime_s</A>
&middot; <A HREF="#ctime_s">ctime_s</A>
&middot; <A HREF="#errno_t">errno_t</A>
&middot; <A HREF="#gmtime_s">gmtime_s</A>
&middot; <A HREF="#localtime_s">localtime_s</A>
&middot; <A HREF="#rsize_t">rsize_t</A>
</CODE></B></P>
<HR>

<P>Include the standard header <B><CODE>&lt;time.h&gt;</CODE></B> to declare several
functions that help you manipulate times. The diagram
summarizes the functions and the object types that they convert
between.</P>

<P><IMG SRC="time.gif"></P>

<P>The functions share two static-duration objects that hold values
computed by the functions:</P>

<UL>
<LI>a <B><A NAME="time_string"></A>time string</B>
of type array of <I>char</I></LI>

<LI>a <B><A NAME="time_structure"></A>time structure</B>
of type <CODE>struct tm</CODE></LI>
</UL>

<P>A call to one of these functions can alter the value that was
stored earlier in a static-duration object by another of these functions.</P>

<PRE>    /* MACROS */
#define <A HREF="#CLOCKS_PER_SEC"><B>CLOCKS_PER_SEC</B></A> <I>&lt;integer constant expression &gt; 0&gt;</I>
#define <A HREF="#NULL"><B>NULL</B></A> <I>&lt;either 0, 0L, or (void *)0&gt;</I> <B>[0 in C++]</B>

    /* TYPES */
typedef <I>a-type</I> <A HREF="#clock_t"><B>clock_t</B></A>;
typedef <I>ui-type</I> <A HREF="#size_t"><B>size_t</B></A>;
typedef <I>a-type</I> <A HREF="#time_t"><B>time_t</B></A>;
struct <A HREF="#tm"><B>tm</B></A>;

    /* FUNCTIONS */
char *<A HREF="#asctime"><B>asctime</B></A>(const struct tm *tptr);
clock_t <A HREF="#clock"><B>clock</B></A>(void);
char *<A HREF="#ctime"><B>ctime</B></A>(const time_t *tod);
double <A HREF="#difftime"><B>difftime</B></A>(time_t t1, time_t t0);
struct tm *<A HREF="#gmtime"><B>gmtime</B></A>(const time_t *tod);
struct tm *<A HREF="#localtime"><B>localtime</B></A>(const time_t *tod);
time_t <A HREF="#mktime"><B>mktime</B></A>(struct tm *tptr);
size_t <A HREF="#strftime"><B>strftime</B></A>(char *restrict s, size_t n,
    const char *restrict format, const struct tm *restrict tptr);
time_t <A HREF="#time"><B>time</B></A>(time_t *tod);

#if __STDC_WANT_LIB_EXT1__ <B>[added with <A HREF="index_ext1.html#TR24731">TR24731</A>]</B>
typedef int <A HREF="#errno_t"><B>errno_t</B></A>;
typedef size_t <A HREF="#rsize_t"><B>rsize_t</B></A>;

errno_t <A HREF="#asctime_s"><B>asctime_s</B></A>(char *s, rsize_t maxsize,
    const struct tm *tptr);
errno_t <A HREF="#ctime_s"><B>ctime_s</B></A>(char *s, rsize_t maxsize,
    const time_t *tod);
struct tm *<A HREF="#gmtime_s"><B>gmtime_s</B></A>(const time_t *restrict tod,
    struct tm *restrict tptr);
struct tm *<A HREF="#localtime_s"><B>localtime_s</B></A>(const time_t *restrict tod,
    struct tm *restrict tptr);
#endif /* __STDC_WANT_LIB_EXT1__ */</PRE>

<H2><A NAME="asctime"></A><CODE>asctime</CODE></H2>

<PRE>char *<B>asctime</B>(const struct tm *tptr);</PRE>

<P>The function stores in the static-duration time string a 26-character
English-language representation of the time encoded in <CODE>*tptr</CODE>.
It returns the address of the static-duration
<A HREF="#time_string">time string</A>. The text
representation takes the form:</P>

<PRE>Sun Dec  2 06:55:15 1979\n\0</PRE>

<P>The function is not necessarily thread safe.</P>

<H2><A NAME="asctime_s"></A><CODE>asctime_s</CODE></H2>

<PRE>errno_t <B>asctime_s</B>(char *s, rsize_t maxsize,
    const struct tm *tptr); <B>[added with TR24731]</B></PRE>

<P>A <A HREF="index_ext1.html#runtime_constraint_violation">runtime constraint violation</A>
occurs if:</P>

<UL>
<LI><CODE>s</CODE> is a null pointer</LI>

<LI><CODE>maxsize</CODE> is less than 26 or greater than
<CODE><A HREF="index_ext1.html#RSIZE_MAX">RSIZE_MAX</A></CODE></LI>

<LI><CODE>tptr</CODE> is a null pointer</LI>

<LI>any of the required values stored in <CODE>*tptr</CODE> lie outside
their normal ranges (as if generated by a call to
<CODE><A HREF="#mktime">mktime</A></CODE></LI>

<LI>the calendar year represented by <CODE>*tptr</CODE> is less than
zero or greater than 9999</LI>
</UL>

<P>If such a violation occurs, other than the first two,
the function stores a null character in <CODE>s[0]</CODE>.
It returns the error code it reported to the constraint handler.</P>

<P>Otherwise, the function stores in
the array of <I>char</I> beginning at <CODE>s</CODE> a 26-character
English-language representation of the time encoded in <CODE>*tptr</CODE>.
It returns zero. The text representation takes the form:</P>

<PRE>Sun Dec  2 06:55:15 1979\n\0</PRE>

<H2><A NAME="clock"></A><CODE>clock</CODE></H2>

<PRE>clock_t <B>clock</B>(void);</PRE>

<P>The function returns the number of clock ticks of elapsed processor
time, counting from a time related to
<A HREF="lib_over.html#program_startup">program startup</A>, or it returns
-1 if the target environment cannot measure elapsed processor
time.</P>

<H2><A NAME="CLOCKS_PER_SEC"></A><CODE>CLOCKS_PER_SEC</CODE></H2>

<PRE>#define <B>CLOCKS_PER_SEC</B> <I>&lt;integer constant expression &gt; 0&gt;</I></PRE>

<P>The macro yields the number of clock ticks,
returned by <CODE>clock</CODE>, in one second.</P>

<H2><A NAME="clock_t"></A><CODE>clock_t</CODE></H2>

<PRE>typedef <I>a-type</I> <B>clock_t</B>;</PRE>

<P>The type is the arithmetic type <CODE><I>a-type</I></CODE>
of an object that you declare to hold the value returned by
<A HREF="#clock"><CODE>clock</CODE></A>, representing
elapsed processor time.</P>

<H2><A NAME="ctime"></A><CODE>ctime</CODE></H2>

<PRE>char *<B>ctime</B>(const time_t *tod);</PRE>

<P>The function converts the calendar time in <CODE>*tod</CODE> to a
text representation of the
<B><A NAME="local_time"></A>local time</B>,
as measured in the current local
timezone, in the static-duration
<A HREF="#time_string">time string</A>.
It returns the address of that string.
The <B>Time Zone</B> setting and the <B>Daylight Saving</B> setting of the <B>Date &amp; Time</B> settings in the system settings are reflected in the local time.
It is equivalent to:</P>

<PRE>    return (asctime(localtime(tod)));</PRE>

<P>The function is not necessarily thread safe.</P>

<H2><A NAME="ctime_s"></A><CODE>ctime_s</CODE></H2>

<PRE>errno_t <B>ctime_s</B>(char *s, rsize_t maxsize,
    const time *tod); <B>[added with TR24731]</B></PRE>

<P>A <A HREF="index_ext1.html#runtime_constraint_violation">runtime constraint violation</A>
occurs if:</P>

<UL>
<LI><CODE>s</CODE> is a null pointer</LI>

<LI><CODE>maxsize</CODE> is less than 26 or greater than
<CODE><A HREF="index_ext1.html#RSIZE_MAX">RSIZE_MAX</A></CODE></LI>

<LI><CODE>tod</CODE> is a null pointer</LI>

<LI>the calendar year represented by <CODE>*tod</CODE> is less than
zero or greater than 9999</LI>
</UL>

<P>If such a violation occurs, other than the first two,
the function stores a null character in <CODE>s[0]</CODE>.
It returns the error code it reported to the constraint handler.</P>

<P>Otherwise, the function stores in
the array of <I>char</I> beginning at <CODE>s</CODE> a 26-character
English-language representation of the time encoded in <CODE>*tod</CODE>.
It is equivalent to:</P>

<PRE>    return (asctime_s(localtime_s(tod)));</PRE>

<H2><A NAME="difftime"></A><CODE>difftime</CODE></H2>

<PRE>double <B>difftime</B>(time_t t1, time_t t0);</PRE>

<P>The function returns the difference <CODE>t1 - t0</CODE>, in seconds,
between the calendar time <CODE>t0</CODE>
and the calendar time <CODE>t1</CODE>.</P>

<H2><A NAME="errno_t"></A><CODE>errno_t</CODE></H2>

<PRE>typedef int <B>errno_t</B>; <B>[added with TR24731]</B></PRE>

<P>The type is a synonym for <I>int,</I> used to represent
a value that can be stored in
<A HREF="errno.html#errno"><CODE>errno</CODE></A>.</P>

<H2><A NAME="gmtime"></A><CODE>gmtime</CODE></H2>

<PRE>struct tm *<B>gmtime</B>(const time_t *tod);</PRE>

<P>The function stores in the static-duration
<A HREF="#time_structure">time structure</A> an
encoding of the calendar time in <CODE>*tod</CODE>, expressed as
<B><A NAME="Coordinated_Universal_Time"></A>Coordinated Universal Time</B>, or UTC [sic].
(UTC was formerly Greenwich Mean Time, or GMT).
It returns the address of that structure, or
[added with C99] a null pointer if
it cannot generate the encoding.</P>

<P>The function is not necessarily thread safe.</P>

<H2><A NAME="gmtime_s"></A><CODE>gmtime_s</CODE></H2>

<PRE>struct tm *<B>gmtime_s</B>(const time_t *restrict tod,
    struct tm *restrict tptr); <B>[added with TR24731]</B></PRE>

<P>A <A HREF="index_ext1.html#runtime_constraint_violation">runtime constraint violation</A>
occurs if:</P>

<UL>
<LI><CODE>tod</CODE> is a null pointer</LI>

<LI><CODE>tptr</CODE> is a null pointer</LI>
</UL>

<P>If such a violation occurs, the function returns a null pointer.</P>

<P>Otherwise, the function stores in <CODE>*tptr</CODE> an
encoding of the calendar time in <CODE>*tod</CODE>, expressed as
<A HREF="#Coordinated_Universal_Time">Coordinated Universal Time</A>.
It returns <CODE>tptr</CODE>, or a null pointer if
it cannot generate the encoding.</P>

<H2><A NAME="localtime"></A><CODE>localtime</CODE></H2>

<PRE>struct tm *<B>localtime</B>(const time_t *tod);</PRE>

<P>The function stores in the static-duration
<A HREF="#time_structure">time structure</A> an
encoding of the calendar time in <CODE>*tod</CODE>, expressed as
<A HREF="#local_time">local time</A>.
It returns the address of that structure, or
[added with C99] a null pointer if
it cannot generate the encoding.</P>

<P>The function is not necessarily thread safe.</P>

<H2><A NAME="localtime_s"></A><CODE>localtime_s</CODE></H2>

<PRE>struct tm *<B>localtime_s</B>(const time_t *restrict tod,
    struct tm *restrict tptr); <B>[added with TR24731]</B></PRE>

<P>A <A HREF="index_ext1.html#runtime_constraint_violation">runtime constraint violation</A>
occurs if:</P>

<UL>
<LI><CODE>tod</CODE> is a null pointer</LI>

<LI><CODE>tptr</CODE> is a null pointer</LI>
</UL>

<P>If such a violation occurs, the function returns a null pointer.</P>

<P>Otherwise, the function stores in <CODE>*tptr</CODE> an
encoding of the calendar time in <CODE>*tod</CODE>, expressed as
<A HREF="#local_time">local time</A>.
It returns <CODE>tptr</CODE>, or a null pointer if
it cannot generate the encoding.</P>

<H2><A NAME="mktime"></A><CODE>mktime</CODE></H2>

<PRE>time_t <B>mktime</B>(struct tm *tptr);</PRE>

<P>The function alters the values stored in <CODE>*tptr</CODE>
to represent an equivalent encoded
<A HREF="#local_time">local time</A>, but with the values of all members
within their normal ranges.
It then determines the values <CODE>tptr-&gt;wday</CODE>
and <CODE>tptr-&gt;yday</CODE> from the values of the other members.
It returns the calendar time equivalent to the encoded time, or it returns a
value of -1 if the calendar time cannot be represented.</P>

<H2><A NAME="NULL"></A><CODE>NULL</CODE></H2>

<PRE>#define <B>NULL</B> <I>&lt;either 0, 0L, or (void *)0&gt;</I> <B>[0 in C++]</B></PRE>

<P>The macro yields a null pointer constant that is usable as an
<A HREF="express.html#address_constant_expression">
address constant expression</A>.</P>

<H2><A NAME="rsize_t"></A><CODE>rsize_t</CODE></H2>

<PRE>typedef size_t <B>rsize_t</B>; <B>[added with TR24731]</B></PRE>

<P>The type is a synonym for <CODE>size_t</CODE>,
used to represent a function argument to be checked on entry
to a function. It is a
<A HREF="index_ext1.html#runtime_constraint_violation">runtime constraint violation</A>
for an argument of type <CODE>rsize_t</CODE> to be greater than
<CODE><A HREF="index_ext1.html#RSIZE_MAX">RSIZE_MAX</A></CODE>.</P>

<H2><A NAME="size_t"></A><CODE>size_t</CODE></H2>

<PRE>typedef <I>ui-type</I> <B>size_t</B>;</PRE>

<P>The type is the unsigned integer type <CODE><I>ui-type</I></CODE>
of an object that you declare to store the result of the
<A HREF="express.html#sizeof_operator"><I>sizeof</I></A> operator.</P>

<H2><A NAME="strftime"></A><CODE>strftime</CODE></H2>

<PRE>size_t <B>strftime</B>(char *restrict s, size_t n,
    const char *restrict format, const struct tm *restrict tptr);</PRE>

<P>The function generates formatted text, under the control of
the format <CODE>format</CODE> and the values stored in the time structure
<CODE>*tptr</CODE>. It stores each generated character
in successive locations of the array object of size
<CODE>n</CODE> whose first element has the address <CODE>s</CODE>.
The function then stores a null character in the next location
of the array. It returns <CODE>x</CODE>, the number of characters generated,
if <CODE>x &lt; n</CODE>; otherwise, it returns zero, and the
values stored in the array are indeterminate.</P>

<P>For each multibyte character other than <CODE>%</CODE> in the format,
the function stores that multibyte character in the array object.
Each occurrence of <CODE>%</CODE> followed by an optional qualifier and
another character in the format is a
<B><A NAME="conversion_specifier"></A>conversion specifier</B>.
The optional qualifiers
[added with C99] are:</P>

<UL>
<LI><CODE>E</CODE>, to represent times in terms of a locale-specific
<B><A NAME="era"></A>era</B>
(such as <CODE>1 BC</CODE> instead of <CODE>0000</CODE>).</LI>

<LI><CODE>O</CODE>, to represent numeric values with a set of locale-specific
<B><A NAME="alternate_digits"></A>alternate digits</B>
(such as <CODE>first</CODE> instead of <CODE>1</CODE>).</LI>
</UL>

<P>For each conversion specifier, the
function stores a replacement character sequence.</P>

<P>The following table lists all conversion specifiers
defined for <CODE>strftime</CODE>.
The fields used in <CODE>*tptr</CODE> follow.
Example replacement character sequences
in parentheses follow each description. All examples are for the
<A HREF="charset.html#C_locale"><CODE>"C"</CODE></A> locale,
which ignores any optional qualifier,
using the date and time Sunday, 2 December 1979 at 06:55:15 AM GMT.</P>

<P>For a Sunday week of the year, week 1 begins with the first Sunday on
or after 1 January. For a Monday week of the year, week 1 begins with the
first Monday on or after 1 January. An ISO 8601 week of the year is the
same as a Monday week of the year, with the following exceptions:</P>

<UL>
<LI>If 1 January is a Tuesday, Wednesday, or Thursday, the week number is
one greater. Moreover, days back to and including the immediately preceding
Monday in the preceding year are included in week 1 of the current year.</LI>

<LI>If 1 January is a Friday, Saturday, or Sunday, days up to but not
including the immediately following Monday in the current year are included
in the last week (52 or 53) of the preceding year.</LI>
</UL>

<P>Conversion specifications marked with a
<CODE>+</CODE> in the table below are all
added with C99:</P>

<PRE>
<B>SPECIFIER   FIELDS   DESCRIPTION (EXAMPLE)</B>
    %a      tm_wday  <B>abbreviated weekday name (Sun)</B>
    %A      tm_wday  <B>full weekday name (Sunday)</B>
    %b      tm_mon   <B>abbreviated month name (Dec)</B>
    %B      tm_mon   <B>full month name (December)</B>
    %c       [all]   <B>date and time (Sun Dec  2 06:55:15 1979)</B>
    %Ec      [all]   + <B>era-specific date and time</B>
    %C      tm_year  + <B>year/100 (19)</B>
    %EC     tm_mday  + <B>era specific era name</B>
            tm_mon
            tm_year
    %d      tm_mday  <B>day of the month (02)</B>
    %D      tm_mday  + <B>month/day/year from 01/01/00 (12/02/79)</B>
            tm_mon
            tm_year
    %e      tm_mday  + <B>day of the month, leading space for zero ( 2)</B>
    %F      tm_mday  + <B>year-month-day (1979-12-02)</B>
            tm_mon
            tm_year
    %g      tm_wday  + <B>year for ISO 8601 week, from 00 (79)</B>
            tm_yday
            tm_year
    %G      tm_wday  + <B>year for ISO 8601 week, from 0000 (1979)</B>
            tm_yday
            tm_year
    %h      tm_mon   + <B>same as %b (Dec)</B>
    %H      tm_hour  <B>hour of the 24-hour day, from 00 (06)</B>
    %I      tm_hour  <B>hour of the 12-hour day, from 01 (06)</B>
    %j      tm_yday  <B>day of the year, from 001 (336)</B>
    %m      tm_mon   <B>month of the year, from 01 (12)</B>
    %M      tm_min   <B>minutes after the hour (55)</B>
    %n               + <B>newline character \n</B>
    %p      tm_hour  <B>AM/PM indicator (AM)</B>
    %r      tm_sec   + <B>12-hour time, from 01:00:00 AM (06:55:15 AM)</B>
            tm_min
            tm_hour
    %Er     tm_sec   + <B>[non-standard]</B> <B>era-specific date and 12-hour time</B>
            tm_min
            tm_hour
            tm_mday
            tm_mon
            tm_year
    %R      tm_min   + <B>hour:minute, from 01:00 (06:55)</B>
            tm_hour
    %S      tm_sec   <B>seconds after the minute (15)</B>
    %t               + <B>horizontal tab character \t</B>
    %T      tm_sec   + <B>24-hour time, from 00:00:00 (06:55:15)</B>
            tm_min
            tm_hour
    %u      tm_wday  + <B>ISO 8601 day of the week, to 7 for Sunday (7)</B>
    %U      tm_wday  <B>Sunday week of the year, from 00 (48)</B>
            tm_yday
    %V      tm_wday  + <B>ISO 8601 week of the year, from 01 (48)</B>
            tm_yday
            tm_year
    %w      tm_wday  <B>day of the week, from 0 for Sunday (0)</B>
    %W      tm_wday  <B>Monday week of the year, from 00 (48)</B>
            tm_yday
    %x       [all]   <B>date (02/12/79)</B>
    %Ex      [all]   + <B>era-specific date</B>
    %X       [all]   <B>time, from 00:00:00 (06:55:15)</B>
    %EX      [all]   + <B>era-specific time</B>
    %y      tm_year  <B>year of the century, from 00 (79)</B>
    %Ey     tm_mday  + <B>year of the era</B>
            tm_mon
            tm_year
    %Y      tm_year  <B>year (1979)</B>
    %EY     tm_mday  + <B>era-specific era name and year of the era</B>
            tm_mon
            tm_year
    %z      tm_isdst + <B>time zone (hours east*100 + minutes), if any ()</B>
    %Z      tm_isdst <B>time zone name, if any.  null string in this implementation ()</B>
    %%               <B>percent character %</B></PRE>

<H2><A NAME="time"></A><CODE>time</CODE></H2>

<PRE>time_t <B>time</B>(time_t *tod);</PRE>

<P>If <CODE>tod</CODE> is not a null pointer, the function stores the
current calendar time in <CODE>*tod</CODE>. The function returns the current
calendar time, if the target environment can determine it; otherwise,
it returns -1.</P>

<H2><A NAME="time_t"></A><CODE>time_t</CODE></H2>

<PRE>typedef <I>a-type</I> <B>time_t</B>;</PRE>

<P>The type is the arithmetic type <CODE><I>a-type</I></CODE>
of an object that you declare to hold
the value returned by <CODE>time</CODE>.
The value represents calendar time.</P>

<H2><A NAME="tm"></A><CODE>tm</CODE></H2>

<PRE>struct <B>tm</B> {
    int tm_sec;        <B>seconds after the minute (from 0)</B>
    int tm_min;        <B>minutes after the hour (from 0)</B>
    int tm_hour;       <B>hour of the day (from 0)</B>
    int tm_mday;       <B>day of the month (from 1)</B>
    int tm_mon;        <B>month of the year (from 0)</B>
    int tm_year;       <B>years since 1900 (from 0)</B>
    int tm_wday;       <B>days since Sunday (from 0)</B>
    int tm_yday;       <B>day of the year (from 0)</B>
    int tm_isdst;      <B>Daylight Saving Time flag</B>
    };</PRE>

<P><CODE>struct tm</CODE> contains members that describe various
properties of the calendar time. The members shown above can occur
in any order, interspersed with additional members. The comment following
each member briefly describes its meaning.</P>

<P>The member <CODE>tm_isdst</CODE> contains:</P>

<UL>
<LI>a positive value if
Daylight Saving Time is in effect</LI>

<LI>zero if Daylight Saving Time is not in effect</LI>

<LI>a negative value if the status of Daylight Saving Time is not
known (so the target environment should attempt to determine its status)</LI>
</UL>

<HR>
<P>See also the
<B><A HREF="index.html#Table_of_Contents">Table of Contents</A></B> and the
<B><A HREF="_index.html">Index</A></B>.</P>

<P><I>
&copy; 2012 Sony Computer Entertainment Inc. All rights reserved.</I></P>

<P><I>
<A HREF="crit_pjp.html">Copyright</A> &copy; 1992-2013
by P.J. Plauger and Jim Brodie. All rights reserved.</I></P>

<!--V6.42:0216--></BODY></HTML>
