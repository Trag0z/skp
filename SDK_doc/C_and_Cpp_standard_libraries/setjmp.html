<HTML><HEAD>
<TITLE>&lt;setjmp.h&gt; -- C and C++ Standard Libraries:&nbsp;&nbsp;Overview and Reference</TITLE>
<meta name="Microsoft.Help.Locale" content="en-us">
<meta name="Microsoft.Help.TopicLocale" content="en-us">
</HEAD><BODY>

<H1><A NAME="&lt;setjmp.h&gt;"></A><CODE>&lt;setjmp.h&gt;</CODE></H1><HR>

<P>Include the standard header <B><CODE>&lt;setjmp.h&gt;</CODE></B>
to perform control transfers that bypass
the normal function call and return protocol.</P>

<PRE>#define <A HREF="#setjmp"><B>setjmp</B></A>(jmp_buf env) <I>&lt;int rvalue&gt;</I>

typedef <I>a-type</I> <A HREF="#jmp_buf"><B>jmp_buf</B></A>;
void <A HREF="#longjmp"><B>longjmp</B></A>(jmp_buf env, int val);</PRE>

<H2><A NAME="jmp_buf"></A><CODE>jmp_buf</CODE></H2>

<PRE>typedef <I>a-type</I> <B>jmp_buf</B>;</PRE>

<P>The type is the array type <CODE><I>a-type</I></CODE> of an object that
you declare to hold the context information stored by
<A HREF="#setjmp"><CODE>setjmp</CODE></A> and accessed by
<A HREF="#longjmp"><CODE>longjmp</CODE></A>.</P>

<H2><A NAME="longjmp"></A><CODE>longjmp</CODE></H2>

<PRE>void <B>longjmp</B>(jmp_buf env, int val);</PRE>

<P>The function causes a second return from the execution of
<A HREF="#setjmp"><CODE>setjmp</CODE></A>
that stored the current context value in <CODE>env</CODE>.
If <CODE>val</CODE> is nonzero, the return value is <CODE>val</CODE>;
otherwise, it is 1.</P>

<P>The function that was active when
<A HREF="#setjmp"><CODE>setjmp</CODE></A> stored the current
context value must not have returned control to its caller. An object
with dynamic duration that does not have a <I>volatile</I> type and
whose stored value has changed since the current context value was stored
will have a stored value that is indeterminate.</P>

<H2><A NAME="setjmp"></A><CODE>setjmp</CODE></H2>

<PRE>#define <B>setjmp</B>(jmp_buf env) <I>&lt;int rvalue&gt;</I></PRE>

<P>The macro stores the current context value in the array
designated by <CODE>env</CODE> and returns zero. A later call to
<A HREF="#longjmp"><CODE>longjmp</CODE></A>
that accesses the same context value causes
<CODE>setjmp</CODE> to again return, this time with a nonzero value.
You can use the macro <CODE>setjmp</CODE> only in an expression that:</P>

<UL>
<LI>has no operators</LI>

<LI>has only the unary operator <CODE>!</CODE></LI>

<LI>has one of the relational or equality operators (<CODE>==</CODE>,
<CODE>!=</CODE>, <CODE>&lt;</CODE>, <CODE>&lt;=</CODE>,
<CODE>&gt;</CODE>, or <CODE>&gt;=</CODE>) with the other
operand an integer constant expression</LI>
</UL>

<P>You can write such an expression only as the <I>expression</I>
part of a
<A HREF="function.html#Do_Statement"><I>do</I></A>,
<A HREF="function.html#Expression_Statement"><I>expression</I></A>,
<A HREF="function.html#For_Statement"><I>for</I></A>,
<A HREF="function.html#If_Statement"><I>if</I></A>,
<A HREF="function.html#If-Else_Statement"><I>if-else</I></A>,
<A HREF="function.html#Switch_Statement"><I>switch</I></A>, or
<A HREF="function.html#While_Statement"><I>while</I></A> statement.</P>

<HR>
<P>See also the
<B><A HREF="index.html#Table_of_Contents">Table of Contents</A></B> and the
<B><A HREF="_index.html">Index</A></B>.</P>

<P><I>
<A HREF="crit_pjp.html">Copyright</A> &copy; 1992-2013
by P.J. Plauger and Jim Brodie. All rights reserved.</I></P>

<!--V6.42:0216--></BODY></HTML>
